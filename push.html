<script src="simpletest.js"></script>

<script>
    
function push(array) {
    
    if (!Array.isArray(array)) {
        throw new TypeError('Push with no array');
    }
    
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            array[array.length] = arguments[i];
        }
    }
    
    return array.length;
}

tests({

  'The first argument should be an array': function() {
      var array = [1];
      push(array);
      eq(Array.isArray(array), true);  
  },
    
  'If not, it should throw TypeError': function() {
      var isTypeError = false;
      try {
        push(3);
      } catch(e) {
        isTypeError = (e instanceof TypeError);
      }
      eq(isTypeError, true);
  },
    
  'If there is just one argument, it should return the length of the array unchanged': function() {
      var array = [1, 2, 3];
      var returnedValue = push(array);
      eq(returnedValue, 3);
      eq(array[0], 1);
      eq(array[1], 2);
      eq(array[2], 3);
  },
    
  'If there are more than 1 arguments, it should add them at the end of the array, and return the length modified': function() {
      var array = [1, 2, 3];
      var returnedValue = push(array, 4, 5);
      eq(returnedValue, 5);
      eq(array[0], 1);
      eq(array[1], 2);
      eq(array[2], 3);
      eq(array[3], 4);
      eq(array[4], 5);
  },    
    
  'If the length of the array cannot be converted to a number, it should default to 0': function() {
      var array = [];
      var returnedValue = push(array, 1);
      eq(returnedValue, 1);
      eq(array[0], 1);   
  }
});
</script>
















